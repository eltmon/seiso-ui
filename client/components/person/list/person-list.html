<div id="page-spinner-panel" data-ng-hide="vm.items">
  <i class="fa fa-spinner fa-spin fa-5x"></i>
</div>
<div data-ng-show="vm.items">
  <div class="page-header">
    <ul class="breadcrumb">
      <li><a data-ng-href="{{uri()}}">Home</a></li>
    </ul>
    <h1>
      People
      <span data-ng-if="vm.items.length === 0"><small>(0)</small></span>
      <span data-ng-if="vm.items.length > 0"><small>({{vm.page.lowerIndex}}-{{vm.page.upperIndex}} of {{vm.page.totalElements}})</small></span>
    </h1>
  </div>
  <div data-ng-if="vm.items.length === 0">
    <h3>No people.</h3>
  </div>
  <div data-ng-if="vm.items.length > 0">
    <div class="pagination-wrapper" data-ng-if="vm.page.totalPages > 1">
      <pagination data-total-items="vm.page.totalElements" data-ng-model="vm.query.pageNumber" data-ng-change="vm.pageSelected()" />
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th style="width:17%">Person</th>
          <th style="width:17%">Username</th>
          <th style="width:22%">Role</th>
          <th style="width:22%">Location</th>
          <th style="width:22%">Contact</th>
        </tr>
      </thead>
      <tbody>
        <tr data-ng-repeat="person in vm.items">
          <td><a data-ng-href="{{uri('people', person.username)}}"><span data-ng-show="person.lastName">{{person.lastName}}, </span>{{person.firstName}}</a></td>
          <td>{{person.username}}</td>
          <td>
            <div data-ng-show="person.title">{{person.title}}</div>
            <div data-ng-show="person.department">{{person.department}}</div>
            <div data-ng-show="person.division">{{person.division}}</div>
            <div data-ng-show="person.company">{{person.company}}</div>
          </td>
          <td>
            <div data-ng-show="person.streetAddress || person.location">
              <div data-ng-show="person.streetAddress">{{person.streetAddress}}</div>
              <div data-ng-show="person.location">{{person.location}}</div>
              <div>
                <a href="https://maps.google.com/maps?q={{person.streetAddress | lowercase}}+{{person.location | lowercase}}" rel="nofollow" target="_blank"><span class="fa fa-map-marker"></span> Map</a>â€‹
              </div>
            </div>
          </td>
          <td>
            <div data-ng-show="person.workPhone">
              <span class="glyphicon glyphicon-earphone"></span> {{person.workPhone}}
            </div>
            <div data-ng-show="person.email">
              <a data-ng-href="mailto:{{person.email}}"><span class="fa fa-envelope"></span> {{person.email}}</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="pagination-wrapper" data-ng-if="vm.page.totalPages > 1">
      <pagination data-total-items="vm.page.totalElements" data-ng-model="vm.query.pageNumber" data-ng-change="vm.pageSelected()" />
    </div>
  </div>
</div>
